---
output: html_document
editor_options:
  chunk_output_type: console
format:
  html:
    html-table-processing: none
---

# Indices {.unnumbered}

```{r packages}
#| include: false
library(tidyverse)
library(xml2)
library(stringi)
library(gt)
source("script/utils.R")
options(readr.show_col_types = FALSE)
```


## Scribes

```{r index of copyists}
#| echo: false
#| output: asis
#| warning: false

get_scribe <- function(mei) {
  read_xml(mei) %>% 
    as_list() %>%
    pluck("mei", "meiHead", "manifestationList") %>% 
    map(\(m) { # for each manifestation …
      map(
        m$itemList,  # … and each item …
        \(i) tibble(  # … get siglum, shelfmark, scribe(s)
          siglum = pluck(i$physLoc$repository$identifier, 1),
          shelfmark = i$physLoc$identifier[[1]],
          scribe = map_chr(i$physDesc$handList, 1)
        )
      ) %>% 
        list_rbind()
    }) %>% 
    list_rbind() %>% 
    mutate(
      id = path_file(mei) %>% path_ext_remove()
    )
}

# get_scribe("data/works_mei/B_1.xml")
scribes <-
  dir_ls("data/works_mei") %>% 
  map(get_scribe) %>% 
  list_rbind()

scribes %>% 
  mutate(group = str_sub(id, 1, 1)) %>% 
  left_join(
    read_csv("data/catalogue_overview.csv") %>% distinct(group, file),
    by = "group"
  ) %>% 
  mutate(
    id = str_replace_all(id, "_", "."),
    WerW = str_glue("[{id}](/groups/{file}.html#work-{id})")
  ) %>% 
  select(scribe, siglum, shelfmark, WerW) %>% 
  arrange(
    scribe,
    siglum,
    stri_rank(shelfmark, opts_collator = stri_opts_collator(numeric = TRUE))
  ) %>% 
  gt(groupname_col = "scribe") %>%
  fmt_markdown(columns = WerW) %>%
  tab_options(
    column_labels.font.weight = "bold",
    row_group.background.color = "grey90",
    table_body.hlines.style = "none"
  )
```


### Notes and writing samples

#### František Ignác Antonín Tůma

:::{#fig-scribes-tuma}
![](images/scribes/tuma.png)

Messa All’Onor’è Preggio del Gran’ Patriarcha San Benedetto, TumW A.22 (A-Ws E 3/26)
:::



#### Anton Ristl

:::{#fig-scribes-ristl layout-ncol=3}
![A](images/scribes/ristl_A.png)

![org](images/scribes/ristl_org.png)

![vl 1](images/scribes/ristl_vl1.png)

Pange lingua, TumW C.2.1 (A-Wn Mus.Hs.15686)
:::



#### Joseph Leysser

The hands of Leysser and Ristl are highly similar [@Eybl1996]. However, they can be distinguished by the bass clef and the dating of the sources (Ristl mainly worked in 1741/42, while Leysser was active throughout the 1740s).

:::{#fig-scribes-leysser layout-ncol=3}
![A](images/scribes/leysser_A.png)

![org](images/scribes/leysser_org.png)

![vl 1](images/scribes/leysser_vl1.png)

Vesperae de Confessore, TumW D.1.4 (A-Wn Mus.Hs.15726)
:::


#### Copyist E

This scribe was likely involved in the rapid creation of the initial performance material for Empress Elisabeth Christine's chapel in 1741. However, their manuscripts are also found in the Schottenstift archive, e.g., in the parts for Missa tibi solo, TumW A.25 (A-Ws E 3/21).

:::{#fig-scribes-copyist-e layout-ncol=3}
![S](images/scribes/copyist_e_S.png)

![vl 1](images/scribes/copyist_e_vl1.png)

![org](images/scribes/copyist_e_org.png)

Dixit Dominus, TumW D.2.8 (A-Wn Mus.Hs.15680)
:::
